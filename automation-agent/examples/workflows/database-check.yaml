name: database-connectivity-check
timeout: 2m
tasks:
  - name: mysql-ping
    type: db
    config:
      driver: mysql
      dsn: user:password@tcp(localhost:3306)/mydb
      query: SELECT 1
      timeout: 30s
      
  - name: check-table-exists
    type: db
    config:
      driver: mysql
      dsn: user:password@tcp(localhost:3306)/mydb
      query: SELECT COUNT(*) as count FROM users
      timeout: 30s
